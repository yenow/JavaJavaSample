---
tags: [ìë°”]
title: ìŠ¤íŠ¸ë¦¼ì˜ ì—°ì‚° (ì¤‘ê°„ì—°ì‚°)
created: '2021-11-14T02:30:50.380Z'
modified: '2021-11-16T03:22:58.587Z'
---

# ìŠ¤íŠ¸ë¦¼ì˜ ì—°ì‚° (ì¤‘ê°„ì—°ì‚°)

â€¢ ìŠ¤íŠ¸ë¦¼ì˜ ë‹¤ì–‘í•œ ì—°ì‚°ì„ ì´ìš©í•´ì„œ ë³µì¡í•œ ì‘ì—…ë“¤ì„ ê°„ë‹¨íˆ ì²˜ë¦¬í• ìˆ˜ ìˆë‹¤.   
â€¢ ë°ì´í„°ë² ì´ìŠ¤ì˜ `SELECT`ë¬¸ê³¼ ë¹„ìŠ·í•˜ë‹¤.

>ìŠ¤íŠ¸ë¦¼ì— ì •ì˜ëœ ë©”ì„œë“œ ì¤‘ì—ì„œ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ë‹¤ë£¨ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ì—°ì‚°(openration) ì´ë¼ê³  í•œë‹¤.

â€¢ ìŠ¤íŠ¸ë¦¼ì´ ì œê³µí•˜ëŠ” ì—°ì‚°ì€ `1.ì¤‘ê°„ì—°ì‚°`ê³¼ `2.ìµœì¢…ì—°ì‚°`ìœ¼ë¡œ ë¶„ë¥˜í•œë‹¤.  
â€¢ `1.ì¤‘ê°„ì—°ì‚°`ì€ ì—°ì‚°ê²°ê³¼ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë°˜í™˜í•´ì„œ ì—°ì†í•´ì„œ ì—°ê²°í•  ìˆ˜ ìˆë‹¤.  
â€¢ `2.ìµœì¢…ì—°ì‚°`ì€ ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†”ë¥¼ ì†Œëª¨í•˜ë©´ì„œ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ë¯€ë¡œ ë‹¨ í•œë²ˆë§Œ ì—°ì‚°ì´ ê°€ëŠ¥í•˜ë‹¤.

---

## ğŸ“ ìŠ¤íŠ¸ë¦¼ì˜ ì¤‘ê°„ì—°ì‚° -  skip(), limit()
â€¢ skip(), limit()ì€ **ìŠ¤íŠ¸ë¦¼ì˜ ì¼ë¶€ë¥¼ ì˜ë¼ë‚¼ ë–„ ì‚¬ìš©**
â€¢ skip(3)ì€ ì²˜ìŒ 3ê°œì˜ ìš”ì†Œë¥¼ ê±´ë„ˆë›°ê³ , limit(5)ëŠ” ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ 5ê°œë¡œ ì œí•œí•œë‹¤.
```java
Stream<T> skip(long n)
Stream<T> limit(long maxSize)
```

#### ğŸ§© ì˜ˆì‹œ
```java
Stream<Integer> skipStream = Arrays.stream(new Integer[]{1,2,3,4,5,6,7,8,9,10,11});
skipStream.skip(3).limit(5).forEach(value -> System.out.print(value + " "));
```

## ğŸ“ ìŠ¤íŠ¸ë¦¼ì˜ ì¤‘ê°„ì—°ì‚° -  filter(), distinct()
â€¢ `distinct()`ëŠ” ìŠ¤íŠ¸ë¦¼ì—ì„œ ì¤‘ë³µë„ë‹ˆ ìš”ì†Œë“¤ì„ ì œê±°
â€¢ `filter()`ëŠ” ì£¼ì–´ì§„ ì¡°ê±´ì— ë§ì§€ ì•ŠëŠ” ìš”ì†Œë¥¼ ê±¸ëŸ¬ëƒ„

```java
Stream<T> filter(Predicate<? super  T> predicate)
Stream<T> distinct()
```

#### ğŸ§© ì˜ˆì‹œ
â€¢ distinct
```java
IntStream distinctStream = Arrays.stream(new int[]{1,2,1,2,3,4,5,1,2,});
distinctStream.distinct().forEach(value -> System.out.print(value + " "));
```
â€¢ filter
```java
// ë§¤ê°œë³€ìˆ˜ë¡œ Predicateë¥¼ í•„ìš”ë¡œí•¨ ,í•„í„°ë¥¼ ë‹¤ë¥¸ì¡°ê±´ìœ¼ë¡œ ì—¬ëŸ¬ë²ˆ ì‚¬ìš©í•˜ëŠ”ê²ƒë„ ê°€ëŠ¥
IntStream filterStream = Arrays.stream(new int[]{1,2,1,2,3,4,5,1,2,});
filterStream.filter(i -> i%2 == 0).filter(i -> i==2).forEach(value -> System.out.print(value + " "));
```

---


## ğŸ“ ìŠ¤íŠ¸ë¦¼ì˜ ì¤‘ê°„ì—°ì‚° -  sorted()
â€¢ ìŠ¤íŠ¸ë¦¼ì„ ì •ë ¬í• ë•Œ ì‚¬ìš©, ì§€ì •ëœ `Comparator`ë¡œ ì •ë ¬(intê°’ì„ ë°˜í™˜í•˜ëŠ” ëŒë‹¤ì‹ì„ ì‚¬ìš©í•˜ëŠ”ê²ƒë„ ê°€ëŠ¥)
â€¢ `Comparator`ë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, ìŠ¤íŠ¸ë¦¼ ìš”ì†Œì˜ ê¸°ë³¸ì •ë ¬ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬(ìš”ì†Œê°€ `Comparable`ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ì—¬ì•¼í•œë‹¤.)

```java
Stream<T> sorted()
Stream<T> sorted(Comparator<? super T> comparator)
```

#### ğŸ§© ì˜ˆì‹œ
```java
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted().forEach(System.out::print);  // ê¸°ë³¸ì •ë ¬
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted(Comparator.naturalOrder()).forEach(System.out::print);  //  ê¸°ë³¸ì •ë ¬
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted((s1,s2) -> s1.compareTo(s2)).forEach(System.out::print);  //  ëŒë‹¤ì‹ë„ ê°€ëŠ¥
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted(String::compareTo).forEach(System.out::print);
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted(Comparator.reverseOrder()).forEach(System.out::print);  // ì—­ìˆœ
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted(String.CASE_INSENSITIVE_ORDER).forEach(System.out::print);  // ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì•ˆí•¨
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted(String.CASE_INSENSITIVE_ORDER.reversed()).forEach(System.out::print);  // ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì•ˆí•¨
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted(Comparator.comparing(String::length)).forEach(System.out::print);  // ê¸¸ì´ ìˆœ ì •ë ¬
Stream.of("dd|","absd|","hthw|","gd|","mb|").sorted(Comparator.comparingInt(String::length)).forEach(System.out::print);  // noì˜¤í† ë°•ì‹±
```

> # ğŸ“š Comparator
> ### ğŸ“• Comparator ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•´ì„œ 
> â€¢ Comparator ì¸í„°í˜ì´ìŠ¤ëŠ” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¡œ ëŒë‹¤ì‹ì´ë‘ ê°™ë‹¤. í•˜ë‚˜ì˜ ë©”ì„œë“œë§Œ ê°€ì§€ê³  ìˆë‹¤. ì¦‰, **ëŒë‹¤ì‹ì´ ì‚¬ìš© ê°€ëŠ¥í•˜ë‹¤.**
> â€¢ Comparator ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„í•´ì•¼í•  ë©”ì„œë“œëŠ” `int compare(a, b)`ì´ë‹¤.
> â€¢ JDK 1.8ë¶€í„° `Comparatorì¸í„°í˜ì´ìŠ¤`ì— staticë©”ì„œë“œì™€ ë””í´íŠ¸ ë©”ì„œë“œê°€ ë§ì´ ì¶”ê°€ë˜ì—ˆëŠ”ë°, ì´ ë©”ì„œë“œë“¤ì„ ì´ìš©í•˜ë©´ ì •ë ¬ì´ ì‰¬ì›Œì§„ë‹¤.
> â€¢ ì´ ë©”ì„œë“œë“¤ì€ ëª¨ë‘ ğŸ”¥`Comparator<T>`ğŸ”¥ ë¥¼ ë°˜í™˜í•˜ë©°, ê°€ì¥ ê¸°ë³¸ì ì¸ ë©”ì„œë“œëŠ” ğŸ”¥`comparing()`ğŸ”¥ì´ë‹¤.
> ### ğŸ“™ comparing ì‘ë™ì›ë¦¬
> ```java
> public static <T, U extends Comparable<? super U>> Comparator<T> comparing(Function<? super T, ? extends U> keyExtractor)
> public static <T, U> Comparator<T> comparing(Function<? super T, ? extends U> keyExtractor,Comparator<? super U>  > > > keyComparator)
> ```
> 1. sort() í•¨ìˆ˜ëŠ” ë§¤ê°œë³€ìˆ˜ë¡œ `Comparator` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ë¥¼ ë°›ëŠ”ë‹¤.
> 2. (ìš”ì†Œê°€ Comparableì„ ìƒì†ë°›ì„ë•Œ) `comparing(Function keyExtractor)`ì´ë¼ëŠ” ë””í´íŠ¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´, ì¸ìê°’ìœ¼ë¡œ ë°›ì€ ë©”ì„œë“œë¥¼ ê° ì¸ë±ìŠ¤ë§ˆë‹¤ ì‹¤í–‰í•˜ì—¬ ê°’ì„ ë¹„êµí•´ì¤€ë‹¤.
> 3. (ìš”ì†Œê°€ Comparableì„ ìƒì†ë°›ì§€ ì•ŠëŠ”ë‹¤ë©´) ì •ë ¬ê¸°ì¤€ì„ ì§ì ‘ ë§Œë“¤ì–´ì•¼í•œë‹¤. ì •ë ¬ê¸°ì¤€ì€ ë§¤ê°œë³€ìˆ˜ ë‘ë²ˆì§¸ ì¸ìë¡œ, `Comparator` ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤(ëŒë‹¤ì‹)ë¥¼ ë„£ì–´ì£¼ë©´ëœë‹¤.
> ### ğŸ“’ ë¹„êµëŒ€ìƒì´ ê¸°ë³¸í˜•ì¼ê²½ìš°
> `comparingInt()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì˜¤í† ë°•ì‹±ê³¼ ì–¸ë°•ì‹± ê³¼ì •ì´ ì‚¬ë¼ì ¸ì„œ ë” íš¨ìœ¨ì ì´ë¼ê³ í•œë‹¤.
> ### ğŸ“— ì •ë ¬ëŒ€ìƒì„ ì¶”ê°€í• ë•Œ
> thenComparing() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ëœë‹¤.

#### ğŸ§© comparing() ì˜ˆì‹œ
```java
class StreamEx6 {
    public static void main(String[] args) {
        Student[] stuArr = {
                new Student("ì´ìë°”", 3, 300),
                new Student("ê¹€ìë°”", 1, 200),
                new Student("ì•ˆìë°”", 2, 100),
                new Student("ë°•ìë°”", 2, 150),
                new Student("ì†Œìë°”", 1, 200),
                new Student("ë‚˜ìë°”", 3, 290),
                new Student("ê°ìë°”", 3, 180)
        };

        // ë°˜ë³„, ì„±ì ìˆœ, ì´ë¦„ìˆœ ì •ë ¬
        Stream.of(stuArr).sorted(Comparator.comparing(Student::getBan)      // ë°˜ë³„
                .thenComparing(Student::getTotalScore)      // ì„±ì ìˆœ
                .thenComparing(Student::getName))       // ì´ë¦„ìˆœ
                .forEach(System.out::println);
    }
}


class Student implements Comparable<Student> {
    String name;
    int ban;
    int totalScore;

    Student(String name, int ban, int totalScore) {
        this.name =name;
        this.ban =ban;
        this.totalScore =totalScore;
    }

    public String toString() {
        return String.format("[%s, %d, %d]", name, ban, totalScore).toString();
    }

    String getName() { return name;}
    int getBan() { return ban;}
    int getTotalScore() { return totalScore;}

    public int compareTo(Student s) {
        return s.totalScore - this.totalScore;
    }
}

```

---

## ğŸ“ ìŠ¤íŠ¸ë¦¼ì˜ ì¤‘ê°„ì—°ì‚° - map() 
â€¢ ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œì— ì €ì¥ëœ ê°’ ì¤‘ì—ì„œ ì›í•˜ëŠ” í•„ë“œë§Œ ë½‘ì•„ë‚´ê±°ë‚˜ íŠ¹ì •í˜•íƒœë¡œ ë³€í™˜í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤. ì´ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ `map`ì´ë‹¤.
â€¢ ë§¤ê°œë³€ìˆ˜ Tíƒ€ì…ì„ Ríƒ€ì…ìœ¼ë¡œ ë³€í™˜í•´ì„œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì§€ì •í•´ì•¼í•œë‹¤.
```java
Stream<R> map(Function<? super T, ? extends R> mapper);
```

#### ğŸ§© map() ì˜ˆì œ
â€¢ Fileì˜ ìŠ¤íŠ¸ë¦¼ì—ì„œ íŒŒì¼ì˜ ì´ë¦„ë§Œ ë½‘ì•„ì„œ ì¶œë ¥í•˜ê³  ì‹¶ì„ë•Œ, ë‹¤ìŒê³¼ê°™ì´ `map()`í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```java
class StreamEx2 {
    public static void main(String[] args) {
        File[] fileArr = { new File("Ex1.java"), new File("Ex1.bak"),
                new File("Ex2.java"), new File("Ex1"), new File("Ex1.txt")
        };

        Stream<File> fileStream = Stream.of(fileArr);

        // map()ìœ¼ë¡œ Stream<File>ì„ Stream<String>ìœ¼ë¡œ ë³€í™˜
        Stream<String> filenameStream = fileStream.map(File::getName);
        filenameStream.forEach(System.out::println); // ëª¨ë“  íŒŒì¼ì˜ ì´ë¦„ì„ ì¶œë ¥

        fileStream = Stream.of(fileArr);  // ìŠ¤íŠ¸ë¦¼ì„ ë‹¤ì‹œ ìƒì„±

        fileStream.map(File::getName)			 // Stream<File> â†’ Stream<String>
                .filter(s -> s.indexOf('.')!=-1)   // í™•ì¥ìê°€ ì—†ëŠ” ê²ƒì€ ì œì™¸
                .map(s -> s.substring(s.indexOf('.')+1)) // í™•ì¥ìë§Œ ì¶”ì¶œ
                .map(String::toUpperCase)    // ëª¨ë‘ ëŒ€ë¬¸ìë¡œ ë³€í™˜
                .distinct()			       //  ì¤‘ë³µ ì œê±°
                .forEach(System.out::print); // JAVABAKTXT	

        System.out.println();
    }
}
```

---

## ğŸ“ ìŠ¤íŠ¸ë¦¼ì˜ ì¤‘ê°„ì—°ì‚° - peek() 
â€¢ ì—°ì‚°ê³¼ ì—°ì‚°ì‚¬ì´ì— ì˜¬ë°”ë¥´ê²Œ ì²˜ë¦¬ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ìœ¼ë©´, `peek()`ë¥¼ ì‚¬ìš©í•˜ë©´ëœë‹¤.
â€¢ `forEach()`ì™€ ë‹¬ë¦¬ ìŠ¤íŠ¸ë¦¼ì˜ ìš”ì†Œë¥¼ ì†Œëª¨í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ, ì—°ì‚° ì‚¬ì´ì— ì—¬ëŸ¬ë²ˆ ë¼ì›Œë„£ì–´ë„ ë¬¸ì œê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.
â€¢ `filter()`ë‚˜ `map()`ì˜ ê²°ê³¼ë¥¼ í™•ì¸í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë  ìˆ˜ ìˆë‹¤. 

#### ğŸ§© peek() ì˜ˆì œ
```java
String[] strArr = { "1", "100", "ab", "í•œê¸€", "í•œê¸€ê³¼ english" };

Stream.of(strArr).filter(s -> s.length() > 2)
        .peek(System.out::println)
        .map(s -> s.toUpperCase())
        .peek(System.out::println)
        .forEach(System.out::println);
```

## ğŸ“ ìŠ¤íŠ¸ë¦¼ì˜ ì¤‘ê°„ì—°ì‚° - flatMap()
â€¢ ìŠ¤íŠ¸ë¦¼ì˜ íƒ€ì…ì´ Stream<T[]>ì¸ ê²½ìš°, Stream<T>ë¡œ ë³€í™˜í•´ì•¼ ì‘ì—…ì´ ë” í¸ë¦¬í•  ë•Œê°€ ìˆë‹¤. ê·¸ëŸ´ë•Œ `flatMap()`ì„ ì‚¬ìš©í•œë‹¤.
#### ğŸ§© flatMap() ì˜ˆì œ
```java
Stream<String[]> strArrStream = Stream.of(new String[] {"abc","def","ghi"}, new String[] {"ABC","DEF","GHI"});

// Stream<Stream<String>> strStream = strArrStream.map(Arrays::stream); // mapì„ ì“¸ê²½ìš° ê²°ê³¼
Stream<String> strStream = strArrStream.flatMap(Arrays::stream);
```

---



